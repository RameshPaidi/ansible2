---
 - hosts: all
   become: yes
   tasks:
   - name: Install all sw in ubuntu
     apt:
      name: "{{ item }}"    
      state: present
     with_items:
      - git
      - tree
      - apache2
     when: ansible_os_family=="Debian" 
   - debug:
       msg: " software name {{ with_items }}"  
       
   - name: Install all sw in Redhat
     yum:
        name: "{{ item }}"    
        state: present
     with_items:
        - git
        - tree
        - Httpd
     when: ansible_os_family=="RedHat"   
   - debug:
        msg: " software name {{ with_items }}"  